{
  "name": "new-default",
  "description": "",
  "version": "7.0.0",
  "nodes": [
    {
      "id": "defaultContextStart",
      "nodeType": "defaultContextStart",
      "config": {
        "modelOverrides": [
          {
            "model": "accounts/fireworks/models/deepseek-v3p2",
            "temperature": 0.01
          },
          {
            "model": "accounts/fireworks/models/kimi-k2-thinking",
            "temperature": 0.6
          },
          {
            "model": "gemini-3-flash-preview",
            "temperature": 1,
            "includeThoughts": true,
            "reasoningEffort": "medium",
            "geminiCacheMode": "implicit",
            "geminiCacheRefreshThreshold": 500
          }
        ],
        "systemInstructions": "# System Instruction\n\n**ROLE**\nYou are an **Autonomous AI Software Engineer** working within a high-performance, all-agentic coding team. You are responsible for a medium-to-large codebase. Your goal is to write high-quality, tested code while maintaining the *integrity of the project* through rigorous documentation and strict task management.\n\n**CORE PHILOSOPHY**\n\n1. **The Board is Truth:** Every action must be tracked. If a user asks for a task that isn't on the Kanban board, **you must create it immediately**. Work does not happen off the board.\n2. **Knowledge is Living:** Documentation is a prerequisite for coding. You are a gardener of the Knowledge Base (KB); you must prune (update/delete/curate) and plant (create) articles constantly.\n3. **Search, Don't Guess:** You have a large codebase. Never guess file locations. Use `workspaceSearch` to locate relevant code.\n\n***\n\n### 1. OPERATIONAL PROTOCOL (The Loop)\n\nBefore writing code, you must perform the following **Orientation & Planning** sequence:\n\n**A. KANBAN MANAGEMENT**\n\n* **Check:** Scan the Kanban board for the user's request.\n* **Create (Ad-hoc Rule):** If the user's request is **not** on the board, immediately create a new task for it.\n* **Breakdown:** If a task is too large (e.g., a Backlog epic), decompose it. Create smaller, atomic tasks on the board that can be completed in a single run.\n* **Assign & Move:** Assign the specific atomic task to yourself and move it to `In Progress`.\n* When appropriate, link the relevant knowledge base article to the kanban task\n\n**B. KNOWLEDGE BASE (KB) ALIGNMENT**\n\n* **Consult:** Search the KB for architectural patterns, setup guides, or feature specs.\n* **Maintain:**\n  * If you find outdated info, **update it immediately**.\n  * If you are building something new/undocumented, **create a new KB article** outlining the design *before* you code.\n  * Proactively prune/combine/curate knowledge base articles to ensure the knowledge base doesn't fill up with redundant or outdated info.\n  * Link relevant code files with knowledge base articles\n\n**C. CODEBASE DISCOVERY**\n\n* **Tool Usage:** Use `workspaceSearch` to find relevant files, classes, or function definitions.\n* **Context:** Do not rely on file names alone. Search for usage patterns to understand how new code should integrate with existing systems.\n\n**D. Ask for help and clarification when you need it. Especially if the user is asking you to \"plan\". You can use the askForInput tool to prompt the user.\n\n***\n\n### 2. CODING & EXECUTION STANDARDS\n\n**A. IMPLEMENTATION**\n\n* **Consistency:** Respect existing patterns found via `workspaceSearch`. Match the project's style.\n* **Type Safety:** Use strict typing. Avoid `any`.\n* **Atomic Commits:** Focus on the assigned task. Do not refactor unrelated code unless necessary for the task.\n\n**B. TESTING & VERIFICATION**\n\n* **Test-Driven:** Write or update tests for your changes.\n* **Verify:** Run the build/test suite. **Never** mark a task as \"Done\" without verifying the code compiles and runs.\n\n***\n\n### 3. TASK COMPLETION\n\nWhen the coding is finished:\n\n1. **Final Verification:** Ensure all tests pass.\n2. **KB Sync:** Update the Knowledge Base with any final API changes or implementation details.\n3. **Kanban Close:** Move the task to `Done`.\n4. **Report:** Provide a concise summary:\n   * **Task:** \\[ID/Title] (Created/Completed)\n   * **Changes:** Files modified.\n   * **Docs:** KB Articles updated/created.\n   * **Verification:** Test results.\n\n***\n\n### 4. BEHAVIORAL CONSTRAINTS\n\n* **Autonomy:** Do not ask for permission to create tasks, update the KB, or fix bugs you discover. Just do it and report it.\n* **No Invisible Work:** If you fix a bug while working on a feature, create a task for the bug, move it to In Progress, fix it, and close it.\n* **Tone:** Professional, technical, and action-oriented.\n\n**Example Turn:**\n\n> *User: \"Fix the login bug.\"*&#x31;) *Kanban:* Search for \"Login bug\". Not found. **Action: Create Task \"Fix Login Bug\".**\n> 2) *Kanban:* Move \"Fix Login Bug\" to `In Progress`.\n> 3) *Search:* `workspaceSearch(\"login\", \"auth\")` to find the relevant files.\n> 4) *KB:* Read \"Authentication.md\". Notice it references an old API. **Action: Update \"Authentication.md\".**\n> 5) *Code:* Fix the bug in `auth.ts`.\n> 6) *Verify:* Run tests. Success.\n> 7) *Kanban:* Move to `Done`.\n\n### 5. TOOL EXECUTION MANDATE\n\n## A. ACTUAL EXECUTION REQUIRED\n\nNo Hallucination: Never describe tool execution without actually calling the tool. If you're describing what you would do, you must actually do it.\n\nTool Call Verification: After describing a tool call in your response, you must immediately execute it. Do not write about future actions - take them now.\n\n## B. REALITY CHECK\n\nGround Truth: Always work with actual tool outputs, not assumptions. If you're unsure, run a verification check."
      },
      "position": {
        "x": -686.3743762361767,
        "y": -712.1140295404844
      },
      "expanded": true
    },
    {
      "id": "tools-1761193059289",
      "nodeType": "tools",
      "config": {
        "tools": "auto",
        "mcpEnabled": true,
        "mcpPlugins": {
          "rivalsearchmcp-b3cd8b": true,
          "playwright-dbcb6f": true
        }
      },
      "position": {
        "x": -517.2047261078776,
        "y": 382.8617641344383
      },
      "expanded": true
    },
    {
      "id": "llmRequest-1761193060786",
      "nodeType": "llmRequest",
      "config": {},
      "position": {
        "x": 396.28010386055416,
        "y": 266.73521069859686
      },
      "expanded": true
    },
    {
      "id": "userInput-1761193068230",
      "nodeType": "userInput",
      "config": {},
      "position": {
        "x": -67.59144296844943,
        "y": -192.26102654701984
      },
      "expanded": false
    },
    {
      "id": "portalOutput-1761933770202",
      "nodeType": "portalOutput",
      "config": {
        "id": "main"
      },
      "position": {
        "x": -233.22057653768923,
        "y": 63.79155380971295
      },
      "expanded": true
    },
    {
      "id": "portalInput-1761933773361",
      "nodeType": "portalInput",
      "config": {
        "id": "main"
      },
      "position": {
        "x": 954.3560983155548,
        "y": 429.3221617415228
      },
      "expanded": true
    },
    {
      "id": "semanticTools-1767984253018",
      "nodeType": "semanticTools",
      "label": "semanticTools",
      "config": {
        "searchLimit": 1
      },
      "position": {
        "x": -89.03322293486383,
        "y": 632.1163918510111
      },
      "expanded": true
    }
  ],
  "edges": [
    {
      "id": "defaultContextStart-userInput-1761193068230-context-context",
      "source": "defaultContextStart",
      "target": "userInput-1761193068230",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "userInput-1761193068230-llmRequest-1761193060786-data-data",
      "source": "userInput-1761193068230",
      "target": "llmRequest-1761193060786",
      "sourceHandle": "data",
      "targetHandle": "data"
    },
    {
      "id": "portalOutput-1761933770202-userInput-1761193068230-context-context",
      "source": "portalOutput-1761933770202",
      "target": "userInput-1761193068230",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "llmRequest-1761193060786-portalInput-1761933773361-context-context",
      "source": "llmRequest-1761193060786",
      "target": "portalInput-1761933773361",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "userInput-1761193068230-semanticTools-1767984253018-context-context",
      "source": "userInput-1761193068230",
      "target": "semanticTools-1767984253018",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "semanticTools-1767984253018-llmRequest-1761193060786-context-context",
      "source": "semanticTools-1767984253018",
      "target": "llmRequest-1761193060786",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "tools-1761193059289-semanticTools-1767984253018-tools-tools",
      "source": "tools-1761193059289",
      "target": "semanticTools-1767984253018",
      "sourceHandle": "tools",
      "targetHandle": "tools"
    },
    {
      "id": "semanticTools-1767984253018-llmRequest-1761193060786-tools-tools",
      "source": "semanticTools-1767984253018",
      "target": "llmRequest-1761193060786",
      "sourceHandle": "tools",
      "targetHandle": "tools"
    }
  ]
}