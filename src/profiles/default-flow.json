{
  "name": "default",
  "description": "",
  "version": "8.0.0",
  "nodes": [
    {
      "id": "defaultContextStart",
      "nodeType": "defaultContextStart",
      "config": {
        "systemInstructions": "You are a master coder. You code all the things. There's nothing you can't do. Plan code, write code, test it interactively. \n\nWORKSPACE SEARCH POLICY:\n- Prefer workspace.search for code discovery over raw file reads.\n- When you have multiple related keywords or symbol variants, call workspace.search ONCE with queries: [\"term1\",\"term2\",...]. Do NOT make many sequential single-term calls.\n- Use mode: \"auto\" unless you explicitly need structural patterns (mode: \"ast\") or globbing (mode: \"path\").\n- Narrow scope with filters.pathsInclude (e.g., [\"src/**\"]) and filters.pathsExclude when helpful.\n- After a search, pick bestHandle or one of topHandles, then call workspace.search again with action: \"expand\" and that handle to fetch the full region.\n- Avoid re-running search without changing filters/terms; expand first, then iterate.\n- Do not read entire files when a handle exists; expand only the relevant region.\n- Prefer filters.pathsInclude (e.g., [\"src/**\",\"electron/**\"]) and exclude heavy paths like node_modules/**, dist/**, .git/**.\n- Avoid generic terms (e.g., \"name\"); keep queries specific to symbols or filenames.\n- Optionally do path-first: mode:\"path\" with [\"startrader\",\"StarTrader\"], then content search scoped to those paths.\n- After search, use bestHandle/topHandles and call action:\"expand\" with the chosen handle."
      },
      "position": {
        "x": 794.528503004688,
        "y": 391.5157165665104
      },
      "expanded": true
    },
    {
      "id": "tools-1760478079316",
      "nodeType": "tools",
      "label": "plan/chat",
      "config": {
        "tools": [
          "fs.read_file",
          "fs.read_dir",
          "code.search_ast",
          "workspace.search",
          "fs.read_lines"
        ]
      },
      "position": {
        "x": 2040,
        "y": 40
      },
      "expanded": false
    },
    {
      "id": "intentRouter-1760503463693",
      "nodeType": "intentRouter",
      "label": "plan/execute/info",
      "config": {
        "provider": "openai",
        "model": "gpt-4.1-mini",
        "routes": {
          "plan": "user wants to plan something",
          "execute": "user wants to do something or execute a plan",
          "info": "user just wants info about the project"
        }
      },
      "position": {
        "x": 2040,
        "y": 390
      },
      "expanded": false
    },
    {
      "id": "tools-1760504451346",
      "nodeType": "tools",
      "label": "execute",
      "config": {
        "tools": [
          "fs.read_file",
          "fs.read_dir",
          "fs.write_file",
          "fs.create_dir",
          "fs.delete_dir",
          "fs.delete_file",
          "fs.exists",
          "fs.stat",
          "fs.append_file",
          "fs.move",
          "fs.copy",
          "fs.remove",
          "fs.truncate_file",
          "fs.truncate_dir",
          "edits.apply",
          "terminal.run",
          "terminal.session_present",
          "terminal.session_exec",
          "terminal.session_close",
          "code.search_ast",
          "code.apply_edits_targeted",
          "workspace.search",
          "terminal.exec",
          "terminal.session_search_output",
          "terminal.session_tail",
          "terminal.session_restart",
          "fs.read_lines",
          "code.replace_call",
          "code.replace_console_level"
        ]
      },
      "position": {
        "x": 2040,
        "y": 740
      },
      "expanded": false
    },
    {
      "id": "llmRequest-1760643452620",
      "nodeType": "llmRequest",
      "label": "execute",
      "config": {},
      "position": {
        "x": 2466.390158215458,
        "y": 613.609841784542
      },
      "expanded": false
    },
    {
      "id": "llmRequest-1760643455771",
      "nodeType": "llmRequest",
      "label": "plan/chat",
      "config": {},
      "position": {
        "x": 2440,
        "y": 40
      },
      "expanded": false
    },
    {
      "id": "portalOutput-1760644097622",
      "nodeType": "portalOutput",
      "label": "main out",
      "config": {
        "id": "main"
      },
      "position": {
        "x": 840,
        "y": 740
      },
      "expanded": false
    },
    {
      "id": "injectMessages-1760719050283",
      "nodeType": "injectMessages",
      "label": "Inject Messages",
      "config": {
        "staticUserMessage": "Gather context about this project.",
        "staticAssistantMessage": "Project Snapshot – “Startrader (React + Pixi)”\n\nStack & Tooling\n\nVite + React 18 + TypeScript; Zustand for state; PixiJS for starmap rendering.\nBuild scripts: npm run dev, npm run build, npm run preview.\nTypeScript config at tsconfig.json; Vite setup in vite.config.ts.\nTop-Level Entry Points\n\nsrc/main.tsx: mounts React app.\nsrc/App.tsx: pulls game state via useGame (Zustand), kicks off useTicker, lazily loads astro data, and lays out UI panels + Pixi canvas.\nState Management (src/store.ts)\n\nCentral Zustand store with Immer.\nHolds GameState (day/time, planets, ship, travel, cargo, credits, etc.) plus UI/log helpers.\nCore actions: time tick, buy/sell, travel, build office, save/load/reset, async init() for astro data.\nTravel ETA computed via astro/nav.ts; daily sim handled by advanceTime, dailyRollover, stepPlanet (see engine_sim.ts).\nUses localStorage key startrader-save.\nGame Engine Modules\n\nengine_types.ts: domain types (Planets, Ship, Cargo, GameState).\nengine_data.ts: procedural planet/resource generation (fallback default set).\nengine_economy.ts: pricing, demand, volumes.\nengine_sim.ts: time advancement, production/consumption (daily tick).\nengine_travel.ts: currently unused legacy travel logic.\nengine_save.ts: serialize/deserialize store state.\nengine_rng.ts: RNG helpers.\nAstro Integration (src/astro/*)\n\nloader.ts: fetches /assets/systems.json, validates with Zod, builds orbit maps + habitable zones.\ntransform.ts: converts astro bodies into Planet objects (data seeding).\nnav.ts: travel time estimates (intra-system AU vs inter-system LY).\norbits.ts: orbital positions per body over time.\ntypes.ts: astro JSON schema.\nUI & Components\n\nLayout is sectioned: Header (HeaderBar), Travel, Planet overview, Market, Cargo, Actions, Log, Pixi starmap.\nPixi canvas (components_Pixi_StarmapCanvas.tsx): renders galaxy/system map, wheel zoom, drag pan, labels; clicking bodies triggers startTravel.\nTables/panels display economy, inventory, logs; depend on selectors & store actions.\nHooks\n\nhooks_useTicker.ts: drives periodic tick dispatch via requestAnimationFrame with configurable pacing (200ms real-time ≈ 1 in-game minute at 1×).\nAssets / Public\n\nExpects /assets/systems.json (astro data). public directory likely holds this and static files.\nThis should give you the necessary context to navigate gameplay mechanics, state flow, and rendering architecture before diving into specific tasks.",
        "pinned": true
      },
      "position": {
        "x": 1640,
        "y": 990
      },
      "expanded": true
    },
    {
      "id": "cache-1760719078674",
      "nodeType": "cache",
      "label": "Context Bootstrap",
      "config": {
        "ttl": 12000,
        "invalidate": 1761186579437
      },
      "position": {
        "x": 1240,
        "y": 1090
      },
      "expanded": true
    },
    {
      "id": "llmRequest-1760719205056",
      "nodeType": "llmRequest",
      "label": "Context Bootstrap",
      "config": {
        "model": "gpt-5-mini",
        "overrideEnabled": false,
        "overrideModel": "gpt-5-mini"
      },
      "position": {
        "x": 840,
        "y": 1090
      },
      "expanded": true
    },
    {
      "id": "tools-1760719213981",
      "nodeType": "tools",
      "label": "Context Bootstrap",
      "config": {
        "tools": [
          "fs.read_dir",
          "fs.read_file",
          "index.search",
          "code.search_ast",
          "code.apply_edits_targeted"
        ]
      },
      "position": {
        "x": 440,
        "y": 1090
      },
      "expanded": false
    },
    {
      "id": "manualInput-1760719272740",
      "nodeType": "manualInput",
      "label": "Manual Input",
      "config": {
        "message": "Use tools to gather a concise but detailed context bootstrap for this project. It should include language, entry points, a listing of important source files, their paths, and a summary of their contents. It should be concise, but comprehensive enough to avoid spending a bunch of tokens on future folder and file scanning. "
      },
      "position": {
        "x": 461.2200319311455,
        "y": 1436.9685668669792
      },
      "expanded": true
    },
    {
      "id": "newContext-1760722425172",
      "nodeType": "newContext",
      "label": "Context Bootstrap Context",
      "config": {
        "model": "gpt-5-mini",
        "systemInstructions": "You ae an agentic coder. ",
        "provider": "openai"
      },
      "position": {
        "x": 40,
        "y": 1440
      },
      "expanded": true
    },
    {
      "id": "userInput-1760756690239",
      "nodeType": "userInput",
      "label": "User Input",
      "config": {},
      "position": {
        "x": 1240,
        "y": 390
      },
      "expanded": false
    },
    {
      "id": "portalInput-1761183102773",
      "nodeType": "portalInput",
      "label": "Portal In",
      "config": {
        "id": "main"
      },
      "position": {
        "x": 2990.556012234169,
        "y": 368.79141393280685
      },
      "expanded": true
    }
  ],
  "edges": [
    {
      "id": "tools-1760504451346-llmRequest-1760643452620-tools-tools",
      "source": "tools-1760504451346",
      "target": "llmRequest-1760643452620",
      "sourceHandle": "tools",
      "targetHandle": "tools"
    },
    {
      "id": "tools-1760478079316-llmRequest-1760643455771-tools-tools",
      "source": "tools-1760478079316",
      "target": "llmRequest-1760643455771",
      "sourceHandle": "tools",
      "targetHandle": "tools"
    },
    {
      "id": "intentRouter-1760503463693-llmRequest-1760643455771-plan-context-context",
      "source": "intentRouter-1760503463693",
      "target": "llmRequest-1760643455771",
      "sourceHandle": "plan-context",
      "targetHandle": "context"
    },
    {
      "id": "intentRouter-1760503463693-llmRequest-1760643455771-plan-data-data",
      "source": "intentRouter-1760503463693",
      "target": "llmRequest-1760643455771",
      "sourceHandle": "plan-data",
      "targetHandle": "data"
    },
    {
      "id": "intentRouter-1760503463693-llmRequest-1760643452620-execute-context-context",
      "source": "intentRouter-1760503463693",
      "target": "llmRequest-1760643452620",
      "sourceHandle": "execute-context",
      "targetHandle": "context"
    },
    {
      "id": "intentRouter-1760503463693-llmRequest-1760643452620-execute-data-data",
      "source": "intentRouter-1760503463693",
      "target": "llmRequest-1760643452620",
      "sourceHandle": "execute-data",
      "targetHandle": "data"
    },
    {
      "id": "intentRouter-1760503463693-llmRequest-1760643455771-info-context-context",
      "source": "intentRouter-1760503463693",
      "target": "llmRequest-1760643455771",
      "sourceHandle": "info-context",
      "targetHandle": "context"
    },
    {
      "id": "intentRouter-1760503463693-llmRequest-1760643455771-info-data-data",
      "source": "intentRouter-1760503463693",
      "target": "llmRequest-1760643455771",
      "sourceHandle": "info-data",
      "targetHandle": "data"
    },
    {
      "id": "llmRequest-1760719205056-cache-1760719078674-data-data",
      "source": "llmRequest-1760719205056",
      "target": "cache-1760719078674",
      "sourceHandle": "data",
      "targetHandle": "data"
    },
    {
      "id": "manualInput-1760719272740-llmRequest-1760719205056-data-data",
      "source": "manualInput-1760719272740",
      "target": "llmRequest-1760719205056",
      "sourceHandle": "data",
      "targetHandle": "data"
    },
    {
      "id": "cache-1760719078674-injectMessages-1760719050283-data-assistantMessage",
      "source": "cache-1760719078674",
      "target": "injectMessages-1760719050283",
      "sourceHandle": "data",
      "targetHandle": "assistantMessage"
    },
    {
      "id": "userInput-1760756690239-intentRouter-1760503463693-data-data",
      "source": "userInput-1760756690239",
      "target": "intentRouter-1760503463693",
      "sourceHandle": "data",
      "targetHandle": "data"
    },
    {
      "id": "newContext-1760722425172-manualInput-1760719272740-context-context",
      "source": "newContext-1760722425172",
      "target": "manualInput-1760719272740",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "manualInput-1760719272740-llmRequest-1760719205056-context-context",
      "source": "manualInput-1760719272740",
      "target": "llmRequest-1760719205056",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "defaultContextStart-userInput-1760756690239-context-context",
      "source": "defaultContextStart",
      "target": "userInput-1760756690239",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "userInput-1760756690239-injectMessages-1760719050283-context-context",
      "source": "userInput-1760756690239",
      "target": "injectMessages-1760719050283",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "portalOutput-1760644097622-userInput-1760756690239-context-context",
      "source": "portalOutput-1760644097622",
      "target": "userInput-1760756690239",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "injectMessages-1760719050283-intentRouter-1760503463693-context-context",
      "source": "injectMessages-1760719050283",
      "target": "intentRouter-1760503463693",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "tools-1760719213981-llmRequest-1760719205056-tools-tools",
      "source": "tools-1760719213981",
      "target": "llmRequest-1760719205056",
      "sourceHandle": "tools",
      "targetHandle": "tools"
    },
    {
      "id": "llmRequest-1760643455771-portalInput-1761183102773-data-data",
      "source": "llmRequest-1760643455771",
      "target": "portalInput-1761183102773",
      "sourceHandle": "data",
      "targetHandle": "data"
    },
    {
      "id": "llmRequest-1760643452620-portalInput-1761183102773-data-data",
      "source": "llmRequest-1760643452620",
      "target": "portalInput-1761183102773",
      "sourceHandle": "data",
      "targetHandle": "data"
    },
    {
      "id": "llmRequest-1760643452620-portalInput-1761183102773-context-context",
      "source": "llmRequest-1760643452620",
      "target": "portalInput-1761183102773",
      "sourceHandle": "context",
      "targetHandle": "context"
    },
    {
      "id": "llmRequest-1760643455771-portalInput-1761183102773-context-context",
      "source": "llmRequest-1760643455771",
      "target": "portalInput-1761183102773",
      "sourceHandle": "context",
      "targetHandle": "context"
    }
  ]
}